var __extends=this.__extends||function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c},DDD;!function(a){var b=function(){function a(a){this.value=a}return a.prototype.getValue=function(){return this.value},a.prototype.equals=function(a){return null==a?!1:this==a?!0:this.value===a.getValue()},a}();a.AbstractIdentity=b;var c=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(b);a.NumberIdentity=c}(DDD||(DDD={}));var DDD;!function(a){var b=function(){function a(a){this.identity=a}return a.prototype.getIdentity=function(){return this.identity},a.prototype.equals=function(a){return null==a?!1:this==a?!0:this.identity.equals(a.getIdentity())},a}();a.AbstractEntity=b}(DDD||(DDD={}));var DDD;!function(a){var b=function(){function a(){this.entities={}}return a.prototype.resolveWithIdentity=function(a){return this.entities[a.getValue()]},a.prototype.store=function(a){return this.entities[a.getIdentity().getValue()]=a,a},a.prototype.deleteByEntity=function(a){this.deleteByIdentity(a.getIdentity())},a.prototype.deleteByIdentity=function(a){delete this.entities[a.getValue()]},a}();a.OnMemoryRepository=b}(DDD||(DDD={}));var DDD;!function(a){var b=function(a){function b(b){a.call(this),this.Resolver=b}return __extends(b,a),b.prototype.createResolver=function(){return new this.Resolver},b.prototype.storeAsync=function(a){return this.store(a),this.createResolver().resolve(a)},b.prototype.resolveAsyncWithIdentity=function(a){var b=this.resolveWithIdentity(a);return this.createResolver().resolve(b)},b.prototype.deleteAsyncByEntity=function(a){return this.deleteByEntity(a),this.createResolver().resolve()},b.prototype.deleteAsyncByIdentity=function(a){return this.deleteByIdentity(a),this.createResolver().resolve()},b}(a.OnMemoryRepository);a.AsyncOnMemoryRepository=b}(DDD||(DDD={}));