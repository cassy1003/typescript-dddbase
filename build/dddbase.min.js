var __extends=this.__extends||function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n},DDD;(function(t){var e=function(){function t(t){this.value=t}return t.prototype.getValue=function(){return this.value},t.prototype.equals=function(t){return null==t?!1:this==t?!0:this.value===t.getValue()},t}();t.AbstractIdentity=e;var n=function(t){function e(e){t.call(this,e),this.value=e}return __extends(e,t),e}(e);t.NumberIdentity=n})(DDD||(DDD={}));var DDD;(function(t){var e=function(){function t(t){this.identity=t}return t.prototype.getIdentity=function(){return this.identity},t.prototype.equals=function(t){return null==t?!1:this==t?!0:this.identity.equals(t.getIdentity())},t}();t.AbstractEntity=e})(DDD||(DDD={}));var DDD;(function(t){var e=function(){function t(){this.entities={}}return t.prototype.resolveWithIdentity=function(t){return this.entities[t.getValue()]},t.prototype.store=function(t){return this.entities[t.getIdentity().getValue()]=t,t},t.prototype.deleteByEntity=function(t){this.deleteByIdentity(t.getIdentity())},t.prototype.deleteByIdentity=function(t){delete this.entities[t.getValue()]},t}();t.OnMemoryRepository=e})(DDD||(DDD={}));var DDD;(function(t){var e=function(t){function e(e){t.call(this),this.createResolver=e}return __extends(e,t),e.prototype.storeAsync=function(t){return this.store(t),this.createResolver().resolve(t)},e.prototype.resolveAsyncWithIdentity=function(t){var e=this.resolveWithIdentity(t);return this.createResolver().resolve(e)},e.prototype.deleteAsyncByEntity=function(t){return this.deleteByEntity(t),this.createResolver().resolve()},e.prototype.deleteAsyncByIdentity=function(t){return this.deleteByIdentity(t),this.createResolver().resolve()},e}(t.OnMemoryRepository);t.AsyncOnMemoryRepository=e})(DDD||(DDD={}));